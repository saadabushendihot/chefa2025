<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <title>لوحة الطالب - شفاء</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="main.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
  <header>
    <span>لوحة الطالب</span>
    <div>
      <button class="btn" id="supportBtn">الدعم الفني</button>
      <button class="btn" id="nightModeBtn">الوضع الليلي</button>
      <button class="btn signout" id="logoutBtn">تسجيل الخروج</button>
    </div>
  </header>
  <div class="container">
    <h2>مرحباً، <span id="studentName"></span></h2>
    <div class="info">
      <div><b>البريد الإلكتروني:</b> <span id="studentEmail"></span></div>
      <div><b>اسم الطالب:</b> <span id="studentNameInfo"></span></div>
      <div><b>رقم المقرر:</b> <span id="courseNumber"></span></div>
    </div>
    <div id="admissionStatusBox" class="admission-status-box admission-pending" style="display:none;"></div>
    <div id="msg"></div>
    <div class="spinner" id="loadingSpinner"></div>
    <div id="levelsExamsTableArea"></div>
    
    <div style="text-align:center;margin:20px 0;">
      <button class="btn" id="startExamBtn" style="display:none;">
        <i class="fas fa-pencil-alt"></i> بدء الاختبار
      </button>
    </div>

    <div id="examWarnMsg" style="display:none; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-weight: bold; text-align: center; border: 1px solid;">
        </div>

    <div id="examEligibilityDetailsTableArea" class="card mt-3" style="display:none;">
        <div class="card-header">
            <h4 class="mb-0">تفاصيل أهلية الاختبار</h4>
        </div>
        <div class="card-content">
            <div class="table-container">
                <table class="table" id="eligibilityDetailsTable">
                    <thead>
                        <tr>
                            <th>الشرط</th>
                            <th>الحالة</th>
                            <th>القيمة الفعلية/الملاحظات</th>
                            <th>الجداول والحقول التي تم التحقق منها</th>
                        </tr>
                    </thead>
                    <tbody id="eligibilityTableBody">
                        </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <div id="lessonsSummariesArea"></div>
    
    <div id="examBox" style="display:none; margin-top:30px;">
      <div class="student-info" id="examStudentInfo"></div>
      <div class="level-info" id="examLevelInfo"></div>
      <h2>أسئلة الاختبار <span id="examTimer" style="font-size:1.1rem;color:#e63946;"></span></h2>
      <form id="examForm">
        <div id="questionsArea"></div>
        <div class="msg" id="formMsg"></div>
        <button type="submit" class="btn">إرسال الإجابات</button>
        <button type="button" class="btn signout" id="exitExamBtn" style="margin-right:8px;">خروج من الاختبار</button>
      </form>
      <div class="result" id="resultArea"></div>
    </div>
  </div>
  <div id="toast" class="toast"></div>
  <audio id="timeWarningSound" src="path/to/your/warning_sound.mp3" preload="auto"></audio>

  <script src="firebase-config.js"></script>
  <script src="student.js"></script>
  </body>
</html>
